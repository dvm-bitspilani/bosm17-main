var developers = {
  "chinmay": {
    "svg": "dev/chinmay.svg",
    "github": "ccpandhare",
    "gmail": "pandharechinmay882@gmail.com",
    "linkedin": "ccpandhare",
    "color": "#dc88ff"
  },
  "neethu": {
    "svg": "dev/neethu.svg",
    "github": "roboneet",
    "gmail": "f2016119@pilani.bits-pilani.ac.in",
    "linkedin": "neethu-maria-joy-653655128",
    "color": "#ff6382"
  },
  "nilay": {
    "svg": "dev/nilay.svg",
    "github": "nilay117",
    "gmail": "f2016117@pilani.bits-pilani.ac.in",
    "linkedin": "nilayarora117",
    "color": "#fe4a49"
  },
  "navjot": {
    "svg": "dev/navjot.svg",
    "github": "navjotbansal",
    "gmail": "f2016070@pilani.bits-pilani.ac.in",
    "linkedin": "navjot-bansal-a67b87137",
    "color": "#b0d52b"
  },
  "tushar": {
    "svg": "dev/tushar.svg",
    "github": "tushargoel1",
    "gmail": "f2016023@pilani.bits-pilani.ac.in",
    "linkedin": "tushar-goel-254a66147",
    "color": "#f90853"
  },
  "megh": {
    "svg": "dev/megh.svg",
    "github": "meghthakkar",
    "gmail": "f2016036@pilani.bits-pilani.ac.in",
    "linkedin": "megh-thakkar-b0531295",
    "color": "#40b3e0"
  },
  "mihir": {
    "svg": "dev/mihir.svg",
    "gmail": "f2016143@pilani.bits-pilani.ac.in",
    "linkedin": "mihir-dharap-b7309b95",
    "color": "#ff9b71"
  },
  "madhur": {
    "svg": "dev/madhur.svg",
    "behance": "madhurw7",
    "dribbble": "madhurw7",
    "linkedin": "madhurw7",
    "gmail": "madhurw7official@gmail.com",
    "color": "#44e09c"
  }
}
var lightboxes = {
  "sports": {
    "basketball": {
      "image": "icons/basketball.png",
      "bcapt": "Vishal Verma",
      "bcno": "8146675797",
      "gcapt": "Mitali Jain",
      "gcno": "7877111996",
      "mplayers": "12",
      "pdf": ""
    },
    "chess": {
      "image": "icons/chess.png",
      "mplayers": "5 (classical: 4 + 1 reserve), 5 (Blitz: 4 + 1 reserve), 4 (Problem Solving)",
      "capt": "Simantini",
      "cno": "9422729502",
      "pdf": ""
    },
    "cricket": {
      "image": "icons/cricket.png",
      "bcapt": "Sri Harsha",
      "bcno": "8058733360",
      "mplayers": "15",
      "pdf": ""
    },
    "powerlifting": {
      "image": "icons/power-lift.png",
      "mplayers": " - ",
      "capt": "Satrajit Nath",
      "cno": "8860549691",
      "pdf": ""
    },
    "athletics": {
      "image": "icons/athletics.png",
      "bcapt": "Utkarsh Vashishtha",
      "bcno": "9871483169",
      "gcapt": "Harshita Verma",
      "gcno": "7891055201",
      "mplayers": " - ",
      "pdf": ""
    },
    "badminton": {
      "image": "icons/badminton.png",
      "bcapt": "Aman Agarwal",
      "bcno": "9713540571",
      "gcapt": "M Mahitha",
      "gcno": "7073606977",
      "mplayers": " 4 ",
      "pdf": ""
    },
    "hockey": {
      "image": "icons/hockey.png",
      "bcapt": "Prashant Rai",
      "bcno": "8003359586",
      "mplayers": " - ",
      "pdf": ""
    },
    "squash": {
      "image": "icons/squash.png",
      "bcapt": "Shreyas Verma",
      "bcno": "9987295874",
      "mplayers": "3+1",
      "pdf": ""
    },
    "swimming": {
      "image": "icons/swimming.png",
      "bcapt": "Prayag Katta",
      "bcno": "8058967899",
      "gcapt": "Mrudula",
      "gcno": "8826034708",
      "mplayers": " - ",
      "pdf": ""
    },
    "tabletennis": {
      "image": "icons/table-tennis.png",
      "bcapt": "Neel Joshi",
      "bcno": "9561643458",
      "gcapt": "Saima Rashid",
      "gcno": "9983089614",
      "mplayers": " 5",
      "pdf": ""
    },
    "tennis": {
      "image": "icons/tennis.png",
      "bcapt": "Surakshit Soni",
      "bcno": "9001436050",
      "gcapt": "Saniya Dasot",
      "gcno": "9887770000",
      "mplayers": " 4",
      "pdf": ""
    },
    "taekwondo": {
      "image": "icons/tykondo.png",
      "mplayers": " - ",
      "capt": "Mitul",
      "cno": "7838453778",
      "pdf": ""
    },
    "football": {
      "image": "icons/football.png",
      "bcapt": "Siddharth Kaushal",
      "bcno": "8295572443",
      "gcapt": "Prakriti Roy",
      "gcno": "9773383506",
      "mplayers": " 16",
      "pdf": ""
    },
    "volleyball": {
      "image": "icons/volleyball.png",
      "bcapt": "Sahil",
      "bcno": "9882641234",
      "gcapt": "Shreya Pathak",
      "gcno": "9983088851",
      "mplayers": " 10",
      "pdf": ""
    },
    "carrom": {
      "image": "icons/carrom.png",
      "capt": "Sai Sourya",
      "cno": "9676196078",
      "mplayers": " -",
      "pdf": ""
    },
    "snooker": {
      "image": "icons/snooker.png",
      "capt": "Anirudh Tandon",
      "cno": "9756800830",
      "mplayers": " -",
      "pdf": ""
    },
  },
  "profshows": {
    "rahul": {
      "image": "icons/rahul.png",
      "description": "Rahul Subramanian is a Tamilian engineer-turned-comedian who realized he was too good for the world of mechanics. The 29-year-old is a regular at all the leading comedy venues in the country, and recently came out with a fresh set of jokes, a solo set titled Kal Main Udega that makes fun of all his break-ups, and his time at B-school. The Mumbai-based comedian has been performing since 2014, as he broke into the scene by winning comedy competitions like Virgin Pants and Canvas Laugh Club - all India open-mics. Recently he played a role in AIB's web series Honest Engineering Campus Placements."
    },
    "sumit": {
      "image": "icons/sumit.png",
      "description": "Sumit Anand has been doing stand up for 4 years and has performed in London, Singapore, Malaysia and India, in order of preference to respective countries. Albeit he admits that he loves India the most (and money).<br><br>In other news, he has a Youtube channel.What people say about him:<br><br>\
\"Extraordinaire potential in Judo\" - Class IV Teacher<br><br>\
\"You were funnier last week\" - Repeat Audience Member<br><br>;)"
    }
  }
  // "contact":{

  // }
}

// Launch primary lightbox
function launchPrimary() {
  var lightbox = document.createElement('div');
  lightbox.className = "lightbox primary";
  document.body.appendChild(lightbox);
  return lightbox;
}

// Close primary lightbox
function closePrimary() {
  document.querySelector('.lightbox.primary').remove();
}

// Launch secondary lightbox
function launchSecondary() {
  var lightbox = document.createElement('div');
  lightbox.className = "lightbox secondary";
  document.body.appendChild(lightbox);
  return lightbox;
}

// Close secondary lightbox
function closeSecondary() {
  document.querySelector('.lightbox.secondary').remove();
}

function launchMenu() {
  window.stopScroll();
  var dev = launchPrimary();
  dev.style.background = "#fff";
  dev.innerHTML = $('#menu')[0].innerHTML;
  initMenu();
}

function launchEvent(name) {
  var type = (lightboxes.sports.hasOwnProperty(name))?'SPORTS EVENT':'PROF SHOW';
  var ev = launchSecondary();
  var item = lightboxes.sports[name] || lightboxes.profshows[name];
  ev.style.background = "transparent";
  if(name=="rahul") name="Rahul Subramanian";
  if(name=="sumit") name="Sumit Anand";
  if (type == "PROF SHOW")
  var html = '\
  <div id="sport-wrapper">\
    <div class="atheletics">\
      <div class="main_div">\
        <div class="col img" style="flex:0.3">\
        </div>\
        <div class="col">\
          <div class="details">'
          +item.description+
          '</div>\
          <div class="sport">'+name.toUpperCase()+'</div>\
        </div>\
        <div class="heading">'+type+'</div>\
        <img src="'+item.image+'" alt="'+name.toUpperCase()+'">\
        <div class="border"></div>\
      </div>\
    </div>\
  </div>\
  ';
  else
  var html = '\
  <div id="sport-wrapper">\
    <div class="atheletics">\
      <div class="main_div">\
        <div class = "button"><a href="pdfs/'+name+'.pdf">Download PDF</a>\
        </div>\
        <div class="col img" style="flex:0.3">\
        </div>\
        <div class="col">\
          <div class="details">\
            <strong><h3>Team captain details:</h3></strong>';
  if(item.hasOwnProperty('bcapt') && item.hasOwnProperty('gcapt'))
    html +=
            '<ul>\
              <li>Boys:<br>\
              Name: '+item.bcapt+'<br>\
              Contact No.: '+item.bcno+'\
              </li><li>Girls:<br>\
              Name: '+item.gcapt+'<br>\
              Contact No.: '+item.gcno+'\
              </li>\
            </ul>\
            <br><strong>Max. no. of players: </strong>'+item.mplayers;
  else if(item.hasOwnProperty('bcapt') && !item.hasOwnProperty('gcapt'))
    html+=
          '<ul>\
              <li>Boys:<br>\
              Name: '+item.bcapt+'<br>\
              Contact No.: '+item.bcno+'\
              </li>\
            </ul>\
            <br><strong>Max. no. of players: </strong>'+item.mplayers;
  else if(!item.hasOwnProperty('bcapt') && !item.hasOwnProperty('gcapt'))
    html+=
        '<ul>\
              <li>\
              Name: '+item.capt+'<br>\
              Contact No.: '+item.cno+'\
              </li>\
            </ul>\
            <br><strong>Max. no. of players: </strong>'+item.mplayers;
    html+=
          '</div>\
          <div class="sport">'+name.toUpperCase()+'</div>\
        </div>\
        <div class="heading">'+type+'</div>\
        <img src="'+item.image+'" alt="'+name.toUpperCase()+'">\
        <div class="border"></div>\
      </div>\
    </div>\
  </div>\
  ';
  ev.innerHTML = html;
  return ev;
}

function launchInfo() {
  var info = launchSecondary();
  var html = '\
  <div class="lightbox secondary">\
     <div id="sport-wrapper">\
      <div class="atheletics" style="top:25% !important">\
        <div class="main_div">\
     <div class="contact_details">\
                         <div  id="details">\
                           <div class="item">\
                             <p>Jayshil</p>\
                             <p>Sports Secretary</p>\
                             <p>+91-9828623535</p>\
                             <p id="email">sportssecretary@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Ashay</p>\
                             <p>Publications and Correspondence</p>\
                             <p>+91-9929022741</p>\
                             <p id="email">pcr@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Gautham</p>\
                             <p>Reception and Accomodation</p>\
                             <p>+91-9444637124</p>\
                             <p id="email">recnacc@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Siddharth</p>\
                             <p>Joint Sports Secretary</p>\
                             <p>+91-7733974342</p>\
                             <p id="email">siddharth@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Jayesh</p>\
                             <p>Sponsorship and Marketing</p>\
                             <p>+91-8897716880</p>\
                             <p id="email">sponsorship@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Pavan</p>\
                             <p>BOSM Controls</p>\
                             <p>+91-9828629266</p>\
                             <p id="email">controls@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Aman</p>\
                             <p>Joint Sports Secretary</p>\
                             <p>+91-9714540571</p>\
                             <p id="email">aman@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Shreshtha</p>\
                             <p>Joint Sports Secretary</p>\
                             <p>+91-9873240714</p>\
                             <p id="email">shreshtha@bits-bosm.org</p>\
                           </div>\
                           <div class="item">\
                             <p>Vihang</p>\
                             <p>Core Website</p>\
                             <p>+91-9828630490</p>\
                             <p id="email">webmaster@bits-bosm.org</p>\
                           </div>\
                  </div><div class="heading change">Contact Us</div>\
         <div class="border"></div>\
         </div>\
       </div>\
   </div>\
  <div class="border"></div>\
   </div>\
';
info.innerHTML=html;
}

function launchVideo() {
  var video = launchPrimary();
  video.style.background = "rgba(0,0,0,0.9)";
  video.style.display = "flex";
  video.style.alignItems = "center";
  video.style.justifyContent = "center";
  video.innerHTML = $('#iframe')[0].innerHTML;
  video.className = video.className+" fadein video";
}

function makegithub(id,color,cb) {
  var url = "https://github.com/" + id;
  var icon = '\
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.81 17.37">\
  <defs>\
    <style>\
      .ca6770a4-50a7-4b53-a89f-1a9d15b1f312 {\
        fill: '+color+';\
        fill-rule: evenodd;\
      }\
    </style>\
  </defs>\
  <g id="c6faf4d7-dffc-4c7c-b339-f63deea1d59a" data-name="Layer 2">\
    <g id="917e2d8a-5f5c-49d9-b114-11acb8905bef" data-name="Layer 1">\
      <path class="ca6770a4-50a7-4b53-a89f-1a9d15b1f312" d="M8.91,0A8.91,8.91,0,0,0,6.09,17.36c.45.08.61-.19.61-.43s0-.77,0-1.51c-2.48.54-3-1.19-3-1.19a2.36,2.36,0,0,0-1-1.3c-.81-.55.06-.54.06-.54a1.87,1.87,0,0,1,1.36.92A1.9,1.9,0,0,0,6.72,14a1.9,1.9,0,0,1,.57-1.19c-2-.22-4.06-1-4.06-4.4a3.44,3.44,0,0,1,.92-2.39,3.2,3.2,0,0,1,.09-2.36s.75-.24,2.45.91a8.44,8.44,0,0,1,4.46,0c1.7-1.15,2.45-.91,2.45-.91a3.2,3.2,0,0,1,.09,2.36,3.44,3.44,0,0,1,.92,2.39c0,3.42-2.08,4.17-4.07,4.4a2.13,2.13,0,0,1,.6,1.65c0,1.19,0,2.15,0,2.44s.16.52.61.43A8.91,8.91,0,0,0,8.91,0Z"/>\
    </g>\
  </g>\
</svg>\
';
  cb(url,icon);
}

function makegmail(id,color,cb) {
  var url = "mailto:" + id;
  var icon = '\
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.05 14.44">\
  <defs>\
    <style>\
      .\31 67ae21e-3f3f-4ff1-8581-5cebbab9127a {\
        fill: '+color+';\
      }\
    </style>\
  </defs>\
  <title>email</title>\
  <g id="3224ea61-9361-4b1d-88b4-8879c4216a04" data-name="Layer 2">\
    <g id="beda08fc-3783-40b2-89e0-4ec3f9c92193" data-name="Layer 1">\
      <path class="167ae21e-3f3f-4ff1-8581-5cebbab9127a" d="M16.24,0H1.8A1.8,1.8,0,0,0,0,1.8V12.63a1.81,1.81,0,0,0,1.8,1.8H16.24a1.81,1.81,0,0,0,1.8-1.8V1.8A1.81,1.81,0,0,0,16.24,0Zm0,3.61L9,8.12,1.8,3.61V1.8L9,6.32,16.24,1.8Z"/>\
    </g>\
  </g>\
</svg>\
  ';
  cb(url,icon);
}

function makelinkedin(id, color, cb) {
  var url = "https://linkedin.com/in/" + id;
  var icon = '\
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\
  <defs>\
    <style>\
      .c4adb669-3dbf-4be8-a96b-ee7975979910 {\
        fill: #44e09c;\
      }\
    </style>\
  </defs>\
  <title>linkedin</title>\
  <g id="dc27edf3-2ccd-4f20-8697-44f616057ec9" data-name="Layer 2">\
    <g id="e735d495-5916-4a28-8496-1d1723aed71b" data-name="Layer 1">\
      <path class="c4adb669-3dbf-4be8-a96b-ee7975979910" d="M16.67,0H1.33A1.31,1.31,0,0,0,0,1.3V16.7A1.31,1.31,0,0,0,1.33,18H16.67A1.32,1.32,0,0,0,18,16.7V1.3A1.32,1.32,0,0,0,16.67,0ZM5.34,15.34H2.67V6.75H5.34ZM4,5.57A1.55,1.55,0,1,1,5.55,4,1.55,1.55,0,0,1,4,5.57Zm11.33,9.76H12.67V11.16c0-1,0-2.28-1.39-2.28S9.68,10,9.68,11.09v4.25H7V6.75H9.57V7.92h0a2.8,2.8,0,0,1,2.53-1.39c2.7,0,3.2,1.78,3.2,4.09Z"/>\
    </g>\
  </g>\
</svg>\
  ';
  cb(url,icon);
}

function makebehance(id, color, cb) {
  var url = "https://behance.net/"+id;
  var icon = '\
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\
  <defs>\
    <style>\
      .c4adb669-3dbf-4be8-a96b-ee7975979910 {\
        fill: #44e09c;\
      }\
    </style>\
  </defs>\
  <title>linkedin</title>\
  <g id="dc27edf3-2ccd-4f20-8697-44f616057ec9" data-name="Layer 2">\
    <g id="e735d495-5916-4a28-8496-1d1723aed71b" data-name="Layer 1">\
      <path class="c4adb669-3dbf-4be8-a96b-ee7975979910" d="M16.67,0H1.33A1.31,1.31,0,0,0,0,1.3V16.7A1.31,1.31,0,0,0,1.33,18H16.67A1.32,1.32,0,0,0,18,16.7V1.3A1.32,1.32,0,0,0,16.67,0ZM5.34,15.34H2.67V6.75H5.34ZM4,5.57A1.55,1.55,0,1,1,5.55,4,1.55,1.55,0,0,1,4,5.57Zm11.33,9.76H12.67V11.16c0-1,0-2.28-1.39-2.28S9.68,10,9.68,11.09v4.25H7V6.75H9.57V7.92h0a2.8,2.8,0,0,1,2.53-1.39c2.7,0,3.2,1.78,3.2,4.09Z"/>\
    </g>\
  </g>\
</svg>\
  ';
  cb(url, icon);
}

function makedribbble(id, color, cb) {
  var url = "https://dribbble.com/"+id;
  var icon = '\
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\
  <defs>\
    <style>\
      .c4adb669-3dbf-4be8-a96b-ee7975979910 {\
        fill: '+color+';\
      }\
    </style>\
  </defs>\
  <title>linkedin</title>\
  <g id="dc27edf3-2ccd-4f20-8697-44f616057ec9" data-name="Layer 2">\
    <g id="e735d495-5916-4a28-8496-1d1723aed71b" data-name="Layer 1">\
      <path class="c4adb669-3dbf-4be8-a96b-ee7975979910" d="M16.67,0H1.33A1.31,1.31,0,0,0,0,1.3V16.7A1.31,1.31,0,0,0,1.33,18H16.67A1.32,1.32,0,0,0,18,16.7V1.3A1.32,1.32,0,0,0,16.67,0ZM5.34,15.34H2.67V6.75H5.34ZM4,5.57A1.55,1.55,0,1,1,5.55,4,1.55,1.55,0,0,1,4,5.57Zm11.33,9.76H12.67V11.16c0-1,0-2.28-1.39-2.28S9.68,10,9.68,11.09v4.25H7V6.75H9.57V7.92h0a2.8,2.8,0,0,1,2.53-1.39c2.7,0,3.2,1.78,3.2,4.09Z"/>\
    </g>\
  </g>\
</svg>\
';
cb(url,id)
}

function getDeveloper(dev) {
  var ret = '\
  <div class="developer item">\
  <div style=\"background-image:url('+developers[dev].svg+')\">\
  ';
  for (prop in developers[dev])
    if(prop != "svg" && prop != "color")
      eval('make'+prop)(developers[dev][prop],developers[dev].color,function(url,icon){
        ret += "\
        "; 
      });
  ret += '\
      </div>\
  </div>\
  ';
  return ret;
}

function launchDev() {
  window.stopScroll();
  var dev = launchPrimary();
  dev.style.background = "#fff";
  dev.innerHTML = $('#dev')[0].innerHTML;
  initDev();
}

$(window).on("load",function(){
  $('#menu_trigger').on("click", function(){
    launchMenu();
  });
  $('#video_trigger').on("click", function(){
    launchVideo();
  });
  $('#facebook').on("click", function(){
    window.open("https://www.facebook.com/bosmbitspilani/");
  });
  $('#youtube').on("click", function(){
    window.open("https://www.youtube.com/user/bitsbosm/");
  });
  $('#home_trigger').on("click", function(){
    $('html,body').animate({scrollTop:0},0);
  });
  $(document).on("click", ".slider .item.event",function(e){
    $('.bg_text').fadeOut();
    launchEvent($(e.target).parent('.item')[0].getAttribute('name'));
    $('.lightbox.primary .slider').addClass('fadeout');
  });
  $(document).on("click", ".slider .item.contact",function(e){
    $('.bg_text').fadeOut();
    launchInfo();
    $('.lightbox.primary .slider').addClass('fadeout');
  });
  $(document).on("click", ".lightbox #sport-wrapper",function(){
    $('.lightbox.secondary').remove();
    $('.lightbox.primary .slider').removeClass('fadeout');
  });
  $(document).on("click", ".lightbox .close",function(){
    if($('.lightbox.secondary').length == 0)
      $('.lightbox').remove();
    else $('.lightbox.secondary').remove();
  });
  $(document).on("mousewheel", ".lightbox.secondary", function(e,d){
    e.target.scrollTop += ( d < 0 ? 1 : -1 ) * 10;
    e.preventDefault();
  });
  $(document).on("click", '.primary.video', function(){
    $('.primary').remove();
  });

  $('rect.56e797b3-ff7c-4d1b-84dc-5d00f20e79ce').on('click',function(){
    window.location.href = "https://bits-bosm.org/2017/registrations";
  });
  $('#register').on('click',function(){
    window.location.href = "https://bits-bosm.org/2017/registrations";
  });
});
